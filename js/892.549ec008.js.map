{"version":3,"file":"js/892.549ec008.js","mappings":"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","sources":["webpack://back-manage/./src/views/User/User.vue","webpack://back-manage/./src/components/Common/CommonForm.vue","webpack://back-manage/src/components/Common/CommonForm.vue","webpack://back-manage/./src/components/Common/CommonForm.vue?19df","webpack://back-manage/./src/components/Common/CommonForm.vue?0454","webpack://back-manage/./src/components/Common/CommonTable.vue","webpack://back-manage/src/components/Common/CommonTable.vue","webpack://back-manage/./src/components/Common/CommonTable.vue?c598","webpack://back-manage/./src/components/Common/CommonTable.vue?55ef","webpack://back-manage/src/views/User/User.vue","webpack://back-manage/./src/views/User/User.vue?a297","webpack://back-manage/./src/views/User/User.vue?0b5b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage\"},[_c('el-dialog',{attrs:{\"title\":_vm.operateType === 'add' ? '新增用户' : '更新用户',\"visible\":_vm.isShow},on:{\"update:visible\":function($event){_vm.isShow=$event}}},[_c('common-form',{ref:\"myform\",attrs:{\"formLabel\":_vm.opertateFormLabel,\"form\":_vm.opertateForm,\"inline\":true}}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isShow = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)],1),_c('div',{staticClass:\"manage-header\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"新增\")]),_c('common-form',{ref:\"myform\",attrs:{\"formLabel\":_vm.formLabel,\"form\":_vm.searchForm,\"inline\":true}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getList(_vm.searchForm.keyword)}}},[_vm._v(\"搜索\")])],1)],1),_c('common-table',{attrs:{\"tableData\":_vm.tableData,\"tableLabel\":_vm.tableLabel,\"config\":_vm.config},on:{\"edit\":_vm.editUser,\"del\":_vm.delUser,\"changePage\":function($event){return _vm.getList()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",attrs:{\"label-width\":\"100px\",\"model\":_vm.form,\"inline\":_vm.inline}},[_vm._l((_vm.formLabel),function(item){return _c('el-form-item',{key:item.label,attrs:{\"label\":item.label}},[(item.type === 'input')?_c('el-input',{attrs:{\"placeholder\":'请输入' + item.label},model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}}):_vm._e(),(item.type === 'switch')?_c('el-switch',{model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}}):_vm._e(),(item.type === 'date')?_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}}):_vm._e(),(item.type === 'select')?_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}},_vm._l((item.opts),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_vm._e()],1)}),_c('el-form-item',[_vm._t(\"default\")],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-form ref=\"form\" label-width=\"100px\" :model=\"form\" :inline=\"inline\">\n        <el-form-item v-for=\"item in formLabel\" :key=\"item.label\" :label=\"item.label\">\n\n            <el-input v-if=\"item.type === 'input'\" :placeholder=\"'请输入' + item.label\" v-model=\"form[item.model]\">\n            </el-input>\n\n            <el-switch v-if=\"item.type === 'switch'\" v-model=\"form[item.model]\"></el-switch>\n\n            <el-date-picker v-if=\"item.type === 'date'\" type=\"date\" value-format=\"yyyy-MM-dd\" v-model=\"form[item.model]\" placeholder=\"选择日期\">\n            </el-date-picker>\n\n            <el-select v-if=\"item.type === 'select'\" placeholder=\"请选择\" v-model=\"form[item.model]\">\n                <el-option v-for=\"item in item.opts\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n                </el-option>\n            </el-select>\n\n        </el-form-item>\n\n        <el-form-item>\n            <slot></slot>\n        </el-form-item>\n        \n    </el-form>\n</template>\n\n<script>\nexport default {\n    name: 'CommonForm',\n    props: {\n        //配置选项\n        formLabel: Array ,\n        //表单数据,由外界传入,和CommonForm双向绑定\n        form:  Object ,\n        //布局选项\n        inline: Boolean \n    },\n    data() {\n        return {\n            // key: value\n        }\n    },\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonForm.vue?vue&type=template&id=604f824c&scoped=true&\"\nimport script from \"./CommonForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"604f824c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"common-table\"},[_c('el-table',{attrs:{\"data\":_vm.tableData,\"height\":\"90%\",\"stripe\":\"\"}},[_vm._l((_vm.tableLabel),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"show-overflow-tooltip\":\"\",\"label\":item.label,\"width\":item.width ? item.width : 125},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row[item.prop]))])]}}],null,true)})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDel(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2),_c('el-pagination',{staticClass:\"pager\",attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.config.total,\"current-page\":_vm.config.page,\"page-size\":20},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.config, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.config, \"page\", $event)},\"current-change\":_vm.changePage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"common-table\">\n        <!-- stripe显示表格条纹  -->\n        <el-table :data=\"tableData\" height=\"90%\" stripe>\n            <!-- show-overflow-tooltip:当内容过长被隐藏时显示 tooltip -->\n            <el-table-column show-overflow-tooltip v-for=\"item in tableLabel\" :key=\"item.prop\" :label=\"item.label\"\n                :width=\"item.width ? item.width : 125\">\n                <!-- 除了渲染v-for的表头数据还要渲染表格数据,用 插槽 -->\n                <template slot-scope=\"scope\">\n                    <span style=\"margin-left: 10px;\">{{ scope.row[item.prop] }}</span>\n                </template>\n\n            </el-table-column>\n\n            <!-- 当前操作列 -->\n            <el-table-column label=\"操作\" min-width=\"180\">\n\n                <template slot-scope=\"scope\">\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                    <el-button size=\"mini\" @click=\"handleDel(scope.row)\" type=\"danger\">删除</el-button>\n                </template>\n\n            </el-table-column>\n\n        </el-table>\n\n        <el-pagination layout=\"prev, pager, next\" :total=\"config.total\" :current-page.sync=\"config.page\" :page-size=\"20\"\n            @current-change=\"changePage\" class=\"pager\"></el-pagination>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'CommonTable',\n    props: {\n        tableData: Array,\n        tableLabel: Array,\n        config: Object\n    },\n    mounted() {\n        // console.log(this.tableLabel);\n\n    },\n    methods: {\n        //点击编辑,自定义事件传给User.vue\n        handleEdit(myrow) {\n            this.$emit('edit', myrow)\n\n        },\n        //点击删除,自定义事件传给User.vue\n        handleDel(myrow) {\n            this.$emit('del', myrow)\n\n\n\n        },\n        //点击下面页码,自定义事件传给User.vue\n        changePage(mypage) {\n            this.$emit('changePage', mypage)\n\n        }\n\n    },\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.common-table {\n    height: 500px;\n    // height: calc(100% - 62px);\n    background-color: #fff;\n    position: relative;\n\n    .pager {\n        position: absolute;\n        bottom: 0;\n        right: 20px;\n    }\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonTable.vue?vue&type=template&id=54bca45c&scoped=true&\"\nimport script from \"./CommonTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonTable.vue?vue&type=style&index=0&id=54bca45c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54bca45c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"manage\">\n        <!-- 需要设置visible属性Boolean，当为true时显示弹窗,支持.sync修饰符 -->\n        <el-dialog :title=\"operateType === 'add' ? '新增用户' : '更新用户'\" :visible.sync=\"isShow\">\n            <common-form :formLabel=\"opertateFormLabel\" :form=\"opertateForm\" :inline=\"true\" ref=\"myform\"></common-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"isShow = false\">取消</el-button>\n                <el-button type=\"primary\" @click=\"confirm\">确定</el-button>\n            </div>\n        </el-dialog>\n        <div class=\"manage-header\">\n            <el-button type=\"primary\" @click=\"addUser\">新增</el-button>\n            <common-form :formLabel=\"formLabel\" :form=\"searchForm\" :inline=\"true\" ref=\"myform\">\n                <el-button type=\"primary\" @click=\"getList(searchForm.keyword)\">搜索</el-button>\n            </common-form>\n        </div>\n        \n        <common-table :tableData=\"tableData\" :tableLabel=\"tableLabel\" :config=\"config\" @edit=\"editUser\" @del=\"delUser\"\n            @changePage=\"getList()\"></common-table>\n\n\n    </div>\n</template>\n\n<script>\nimport CommonForm from '@/components/Common/CommonForm.vue';\nimport CommonTable from '@/components/Common/CommonTable.vue';\nimport { addUserData, editUserData, getUser, delUserData } from '@/API/data.js'\nexport default {\n    name: 'User',\n    components: {\n        CommonForm,\n        CommonTable\n    },\n    data() {\n        return {\n            operateType: 'add',\n            isShow: false,\n\n            //弹窗里form配置数据\n            opertateFormLabel: [\n                { model: 'name', label: '姓名', type: 'input' },\n                { model: 'age', label: '年龄', type: 'input' },\n                {\n                    model: 'sex', label: '性别', type: 'select', opts: [\n                        { label: '男', value: 0 },\n                        { label: '女', value: 1 },\n\n                    ]\n                },\n                { model: 'birth', label: '生日', type: 'date' },\n                { model: 'addr', label: '地址', type: 'input' },\n\n\n            ],\n            opertateForm: { name: '', addr: '', age: '', birth: '', sex: '' },\n\n            //表格右上角输入框数据\n            formLabel: [\n                { model: 'keyword', label: '', type: 'input' }\n            ],\n            //表格右上角输入框数据\n            searchForm: { keyword: '' },\n\n            //真正用户表格数据\n            tableData: [],\n\n            tableLabel: [\n                { label: '姓名', prop: 'name' },\n                { label: '年龄', prop: 'age' },\n                { label: '性别', prop: 'sex' },\n                { label: '生日', prop: 'birth', width: 200 },\n                { label: '地址', prop: 'addr', width: 320 },\n\n            ],\n            config: { page: 1, total: 30 }\n\n\n\n\n\n\n        }\n    },\n    created() {\n        this.getList();\n    },\n    methods: {\n        //点击确定\n        confirm() {\n            //如果是编辑\n            if (this.operateType === 'edit') {\n                editUserData(this.opertateForm).then(({data:res}) => {\n                    //拿到数据后关了弹窗\n                    this.isShow = false\n                    this.$message({ type: 'success', message: res.data.message })\n                    //重新获取数据\n                    this.getList()\n                })\n            } else {\n                //如果是添加\n                addUserData(this.opertateForm).then(({data:res}) => {\n                    this.isShow = false\n                    this.$message({ type: 'success', message: res.data.message })\n                    //重新获取数据\n                    this.getList()\n\n                })\n                // this.$http.post('/user/add', this.opertateForm).then(res => {\n                //     //拿到数据后关了弹窗\n                //     this.isShow = false\n                //     console.log(res);\n\n                // })\n\n            }\n\n        },\n        addUser() {\n            this.isShow = true\n            this.operateType = 'add'\n            this.opertateForm = { name: '', addr: '', age: '', birth: '', sex: '' }\n\n        },\n\n\n        //编辑\n        editUser(myrow) {\n            //将模式调成编辑,isShow为true使得弹窗出现\n            this.operateType = 'edit'\n            this.isShow = true\n            //接收那一行的数据\n            //由于该方法是子组件CommonTable自定义事件传过来的\n            //因此myrow就是那一行数据\n            this.opertateForm = myrow\n\n        },\n\n        //删除\n        delUser(myrow) {\n            //类似this.notify的提示弹窗\n            //this.$confirm(提示内容,标题,{按钮1:'1名',type按钮类型:'warning吧'}).then(回调)\n            this.$confirm('此操作永久删除该组件,是否继续', '提示',\n                { confirmBtnTxt: '确认', cancelBtnTxt: '取消', type: 'warning' })\n                .then(() => {\n                    //获取用户id并删除\n                    const id = myrow.id\n                    // console.log(id);\n                    //调用接口删除\n                    delUserData(id).then(() => {\n                        //删除重新渲染用户列表\n                        this.getList()\n                        this.$message({ type: 'success', message: '删除成功' })\n                    })\n\n                })\n        },\n\n        //获取用户列表,name = ''提供搜索功能\n        getList(name = '') {\n            //先给config加上loading属性表是 要加载?\n            this.config.loading = true\n            //用户?是否存在是的话页码到第一页,不是的话什么都不做\n            name ? (this.config.page = 1) : ''\n            //进行接口调用\n            getUser({ page: this.config.page, name: name }).then(({ data: res }) => {\n                //还是返回res.list列表,只是把列表里的0或1变成女或男\n                this.tableData = res.list.map(item => {\n                    item.sex = item.sex === 0 ? '女' : '男'\n                    return item\n                })\n                // console.log(this.tableData);\n\n                //将总页码传到total中\n                this.config.total = res.count\n                //调用完接口之后把loading状态? 关了\n                this.config.loading = false\n            })\n\n\n        },\n\n    },\n\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.manage-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=be204c40&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=be204c40&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be204c40\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","operateType","isShow","on","$event","ref","opertateFormLabel","opertateForm","slot","_v","confirm","addUser","formLabel","searchForm","getList","keyword","tableData","tableLabel","config","editUser","delUser","staticRenderFns","form","inline","_l","item","key","label","type","model","value","callback","$$v","$set","expression","_e","opts","_t","name","props","data","component","prop","width","scopedSlots","_u","fn","scope","staticStyle","_s","row","handleEdit","handleDel","total","page","changePage","mounted","methods","components","CommonForm","CommonTable","addr","age","birth","sex","created","editUserData","message","addUserData","confirmBtnTxt","cancelBtnTxt","then","delUserData","getUser"],"sourceRoot":""}